/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var w=Object.defineProperty;var W=Object.getOwnPropertyDescriptor;var Q=Object.getOwnPropertyNames;var J=Object.prototype.hasOwnProperty;var V=(u,n)=>{for(var l in n)w(u,l,{get:n[l],enumerable:!0})},D=(u,n,l,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of Q(n))!J.call(u,i)&&i!==l&&w(u,i,{get:()=>n[i],enumerable:!(t=W(n,i))||t.enumerable});return u};var P=u=>D(w({},"__esModule",{value:!0}),u);var L={};V(L,{default:()=>c});module.exports=P(L);var a=require("obsidian"),g=require("@codemirror/view"),k=require("@codemirror/state"),S=require("@codemirror/language");var e=class{constructor(n,l,t=0,i=null){this.type=n,this.match=l.toLowerCase(),this.highlightOffset=t,this.highlightLength=i}},y=class{constructor(){this.rules={};this.customRules={};this.addRule(new e("WeakQualifier","a bit")),this.addRule(new e("WeakQualifier","a little")),this.addRule(new e("WeakQualifier","actual")),this.addRule(new e("WeakQualifier","actually")),this.addRule(new e("WeakQualifier","basically")),this.addRule(new e("WeakQualifier","just")),this.addRule(new e("WeakQualifier","kind of")),this.addRule(new e("WeakQualifier","like")),this.addRule(new e("WeakQualifier","literally")),this.addRule(new e("WeakQualifier","quite")),this.addRule(new e("WeakQualifier","really")),this.addRule(new e("WeakQualifier","simply")),this.addRule(new e("WeakQualifier","sort of")),this.addRule(new e("WeakQualifier","very")),this.addRule(new e("WeakQualifier","somewhat")),this.addRule(new e("Jaron","at the end of the day")),this.addRule(new e("Jaron","boil the ocean")),this.addRule(new e("Jaron","double-edged sword")),this.addRule(new e("Jaron","going forward")),this.addRule(new e("Jaron","i beg to differ")),this.addRule(new e("Jaron","ideate")),this.addRule(new e("Jaron","move the needle")),this.addRule(new e("Jaron","moving forward")),this.addRule(new e("Jaron","paradigm")),this.addRule(new e("Jaron","paradigm shift")),this.addRule(new e("Jaron","rightsizing")),this.addRule(new e("Jaron","singing from the same hymn sheet")),this.addRule(new e("Jaron","touch base")),this.addRule(new e("Jaron","unpack")),this.addRule(new e("Jaron","north star")),this.addRule(new e("Complexity","as of yet")),this.addRule(new e("Complexity","at the present time")),this.addRule(new e("Complexity","close proximity")),this.addRule(new e("Complexity","commence")),this.addRule(new e("Complexity","deem")),this.addRule(new e("Complexity","dialogue")),this.addRule(new e("Complexity","due to the fact that")),this.addRule(new e("Complexity","endeavor")),this.addRule(new e("Complexity","endeavour")),this.addRule(new e("Complexity","enumerate")),this.addRule(new e("Complexity","equitable")),this.addRule(new e("Complexity","erroneous")),this.addRule(new e("Complexity","facilitate")),this.addRule(new e("Complexity","For all intents and purposes")),this.addRule(new e("Complexity","henceforth")),this.addRule(new e("Complexity","herewith")),this.addRule(new e("Complexity","honestly")),this.addRule(new e("Complexity","in a sense")),this.addRule(new e("Complexity","in lieu of")),this.addRule(new e("Complexity","in my humble opinion")),this.addRule(new e("Complexity","in order to")),this.addRule(new e("Complexity","in regard to")),this.addRule(new e("Complexity","in relation to")),this.addRule(new e("Complexity","in the event of")),this.addRule(new e("Complexity","inception")),this.addRule(new e("Complexity","leverage")),this.addRule(new e("Complexity","numerous")),this.addRule(new e("Complexity","per se")),this.addRule(new e("Complexity","pertaining to")),this.addRule(new e("Complexity","prior to")),this.addRule(new e("Complexity","subsequently")),this.addRule(new e("Complexity","utilise")),this.addRule(new e("Complexity","utilize")),this.addRule(new e("Complexity","of the opinion that")),this.addRule(new e("Complexity","with reference to")),this.addRule(new e("Complexity","with the exception of")),this.addRule(new e("Complexity","i might add")),this.addRule(new e("Complexity","it is interesting to note")),this.addRule(new e("Redudancy","combine together",7)),this.addRule(new e("Redudancy","critically important",8)),this.addRule(new e("Redudancy","each and every",0,9)),this.addRule(new e("Redudancy","successfully complete",0,13)),this.addRule(new e("Redudancy","basic fundamentals")),this.addRule(new e("Redudancy","in the event that")),this.addRule(new e("Redudancy","one and the same",0,8)),this.addRule(new e("Redudancy","final conclusion",0,6))}addRule(n){this.rules[n.match]=n}resetCustomRules(){this.customRules={}}addCustomRule(n){this.customRules[n]=new e("Custom",n)}getRuleByMatchString(n){return n=n.toLowerCase(),n in this.rules?this.rules[n]:this.customRules[n]}getMatchStrings(n,l){let t=[];for(let i in this.rules)n.includes(this.rules[i].type)&&!l.includes(i)&&t.push(i);for(let i in this.customRules)t.push(i);return t.sort((i,s)=>s.length-i.length)}};var E={enabled:!0,highlightStyle:"dim",enableRulesetWeakQualifiers:!0,enableRulesetJargon:!0,enableRulesetComplexity:!0,enableRulesetRedundancies:!0,customWordList:""},c=class extends a.Plugin{async onload(){this.rules=new y,await this.loadSettings(),this.buildRegex(),this.addCommand({id:"toggle",name:"Toggle highlighting",callback:()=>{this.settings.enabled=!this.settings.enabled,this.saveSettings()}}),this.addSettingTab(new T(this.app,this)),this.registerEditorExtension(this.createViewPlugin())}onunload(){}buildRegex(){let l=[...this.settings.enableRulesetWeakQualifiers?["WeakQualifier"]:[],...this.settings.enableRulesetJargon?["Jaron"]:[],...this.settings.enableRulesetComplexity?["Complexity"]:[],...this.settings.enableRulesetRedundancies?["Redudancy"]:[]];this.rules.resetCustomRules();let t=[];this.settings.customWordList.trim().length>0&&this.settings.customWordList.trim().split(/\r?\n/).forEach(s=>{s.startsWith("-")?t.push(s.substring(1)):this.rules.addCustomRule(s)});let i=this.rules.getMatchStrings(l,t);if(i.length>0){let s=`\\b(?:${i.join("|")})\\b`;this.regex=new RegExp(s,"gi")}else this.regex=null}async loadSettings(){this.settings=Object.assign({},E,await this.loadData())}async saveSettings(){await this.saveData(this.settings),this.buildRegex(),this.forceViewUpdate=!0,document.body.classList.toggle("cut-the-fluff-active",this.settings.enabled),this.app.workspace.updateOptions()}createViewPlugin(){let l=this;class t{constructor(s){this.decorations=this.buildDecorations(s)}update(s){(s.docChanged||s.viewportChanged||l.forceViewUpdate)&&(this.decorations=this.buildDecorations(s.view),l.forceViewUpdate=!1)}buildDecorations(s){if(!l.settings.enabled||l.regex==null)return g.Decoration.none;let r;switch(l.settings.highlightStyle){case"dim":r=" fluff-dim";break;case"wavy-underline":r=" fluff-wavy-underline";break;case"strikethrough":r=" fluff-strikethrough";break;default:r=""}let b=new k.RangeSetBuilder,N=s.state.doc.toString(),x=[];for(let{from:p,to:m}of s.visibleRanges)(0,S.syntaxTree)(s.state).iterate({from:p,to:m,enter(o){(o.name.includes("code")||o.name.includes("comment")||o.name.includes("link")||o.name.includes("url"))&&x.push({min:o.from,max:o.to})}});let R;for(let{from:p,to:m}of s.visibleRanges){l.regex.lastIndex=0;let v=s.state.doc.sliceString(p,m);for(;(R=l.regex.exec(v))!==null;){let h=l.rules.getRuleByMatchString(R[0]),d;d=R.index+p+h.highlightOffset;let f;h.highlightLength!=null?f=d+h.highlightLength-h.highlightOffset:f=d+R[0].length-h.highlightOffset,!x.some(C=>d>=C.min&&d<=C.max)&&b.add(d,f,g.Decoration.mark({class:`fluff${r}`}))}}return b.finish()}}return g.ViewPlugin.fromClass(t,{decorations:i=>i.decorations})}},T=class extends a.PluginSettingTab{constructor(l,t){super(l,t);this.plugin=t}async hide(){await this.plugin.saveSettings()}display(){let{containerEl:l}=this;l.empty(),new a.Setting(l).setName("Enable highlighting").setDesc("You can also toggle on and off from the command palette").addToggle(t=>t.setValue(this.plugin.settings.enabled).onChange(async i=>{this.plugin.settings.enabled=i,await this.plugin.saveSettings()})),new a.Setting(l).setName("Highlight style").setDesc("Selecting none will add CSS classes to matches but no formatting to allow you to format from your user stylesheet").addDropdown(t=>{t.addOption("dim","Dim"),t.addOption("wavy-underline","Wavy underline"),t.addOption("strikethrough","Strikethrough"),t.addOption("none","None"),t.setValue(this.plugin.settings.highlightStyle),t.onChange(async i=>{this.plugin.settings.highlightStyle=i,await this.plugin.saveSettings()})}),new a.Setting(l).setName("Built-in rulesets").setHeading(),new a.Setting(l).setName("Weak qualifiers").setDesc("eg. very, quite, really").addToggle(t=>t.setValue(this.plugin.settings.enableRulesetWeakQualifiers).onChange(async i=>{this.plugin.settings.enableRulesetWeakQualifiers=i,await this.plugin.saveSettings()})),new a.Setting(l).setName("Clich\xE9s, jargon and metaphors").setDesc("eg. move the needle, double-edged sword, paradigm shift").addToggle(t=>t.setValue(this.plugin.settings.enableRulesetJargon).onChange(async i=>{this.plugin.settings.enableRulesetJargon=i,await this.plugin.saveSettings()})),new a.Setting(l).setName("Unnecessary complexity or clutter").setDesc("eg. erroneous (wrong), pertaining to (about), utalize (use), due to the fact that (due to)").addToggle(t=>t.setValue(this.plugin.settings.enableRulesetComplexity).onChange(async i=>{this.plugin.settings.enableRulesetComplexity=i,await this.plugin.saveSettings()})),new a.Setting(l).setName("Redundancies").setDesc("eg. combine together, basic fundamentals, critically important, final conclusion").addToggle(t=>t.setValue(this.plugin.settings.enableRulesetRedundancies).onChange(async i=>{this.plugin.settings.enableRulesetRedundancies=i,await this.plugin.saveSettings()})),new a.Setting(l).setName("Custom rules").setDesc("Seperate each item with a line break. Prefix an item with a dash to add an exception for a built-in rule").setHeading(),new a.TextAreaComponent(l).setValue(this.plugin.settings.customWordList).setPlaceholder(`one rule
per line
-exception`).onChange(t=>{this.plugin.settings.customWordList=t}).then(t=>{t.inputEl.addClass("settings-full-width-textarea")})}};

/* nosourcemap */